<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Backrooms 3D</title><style>
body{margin:0;overflow:hidden;background:#000;color:#ff0;font-family:sans-serif;}
#m{position:fixed;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#111;z-index:99;}
#j{position:fixed;top:0;left:0;width:100%;height:100%;display:none;z-index:100;background:#000;color:red;text-align:center;}
/* HTML Jumpscare Efekti */
.scary-face { font-size: 200px; font-weight: bold; margin-top: 100px; animation: shake 0.1s infinite; }
@keyframes shake { 0%{transform:translate(5px,5px);} 50%{transform:translate(-5px,-5px) scale(1.1);} 100%{transform:translate(5px,5px);} }
button{padding:20px 40px;background:yellow;color:#000;font-weight:bold;cursor:pointer;border:none;}
</style></head><body>

<div id="m">
    <h1>BACKROOMS 3D</h1>
    <p>W-A-S-D: YÃ¼rÃ¼ | Mouse: Bak</p>
    <p>IÅŸÄ±ÄŸÄ± canavarda tutmazsan gelir!</p>
    <button onclick="s()">OYUNA BAÅžLA</button>
</div>

<div id="j">
    <div class="scary-face">ðŸ‘¹<br>GEBERDÄ°N!</div>
</div>

<script type="importmap">{"imports":{"three":"https://unpkg.com/three@0.160.0/build/three.module.js"}}</script>
<script type="module">
import * as T from 'three';
let sc, ca, re, mo, fl, active=false, w=false, s_k=false, a=false, d=false;

function init(){
    sc=new T.Scene(); sc.fog=new T.Fog(0,1,12);
    ca=new T.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
    // GÃ¼venli baÅŸlangÄ±Ã§ noktasÄ±
    ca.position.set(0, 1.6, 10); 
    
    re=new T.WebGLRenderer({antialias:true}); re.setSize(window.innerWidth,window.innerHeight); document.body.appendChild(re.domElement);
    
    // Zemin ve Tavan
    const flr=new T.Mesh(new T.PlaneGeometry(100,100),new T.MeshStandardMaterial({color:0x555522})); flr.rotation.x=-Math.PI/2; sc.add(flr);
    const ceil=new T.Mesh(new T.PlaneGeometry(100,100),new T.MeshStandardMaterial({color:0x666633})); ceil.position.y=3.5; ceil.rotation.x=Math.PI/2; sc.add(ceil);
    
    // El Feneri
    fl=new T.SpotLight(0xffffff,150,20,0.4); ca.add(fl); fl.target.position.set(0,0,-1); ca.add(fl.target); sc.add(ca);
    sc.add(new T.AmbientLight(0x111111));

    // Sabit Duvarlar (Seni sÄ±kÄ±ÅŸtÄ±rmayacak ÅŸekilde)
    const wM=new T.MeshStandardMaterial({color:0x888844});
    for(let i=0;i<30;i++){
        const wl=new T.Mesh(new T.BoxGeometry(4,4,0.5),wM);
        let rx = Math.random()*40-20; let rz = Math.random()*40-20;
        if(Math.abs(rx) < 3 && Math.abs(rz) > 5) rx += 5; // BaÅŸlangÄ±Ã§ yerini boÅŸalt
        wl.position.set(rx,1.75,rz);
        wl.rotation.y = Math.random()*Math.PI;
        sc.add(wl);
    }

    // Canavar (BaÅŸlangÄ±Ã§ta senden uzakta)
    mo=new T.Mesh(new T.BoxGeometry(0.5,2.5,0.5),new T.MeshBasicMaterial({color:0x000000}));
    mo.position.set(0, 1.25, -15); 
    sc.add(mo);

    window.addEventListener('keydown',e=>{if(e.code=='KeyW')w=true;if(e.code=='KeyS')s_k=true;if(e.code=='KeyA')a=true;if(e.code=='KeyD')d=true;});
    window.addEventListener('keyup',e=>{if(e.code=='KeyW')w=false;if(e.code=='KeyS')s_k=false;if(e.code=='KeyA')a=false;if(e.code=='KeyD')d=false;});
    window.addEventListener('mousemove',e=>{if(document.pointerLockElement){ca.rotation.y-=e.movementX*0.002;ca.rotation.x-=e.movementY*0.002;ca.rotation.x=Math.max(-1.5,Math.min(1.5,ca.rotation.x));}});
    
    loop();
}

function loop(){
    if(!active)return; requestAnimationFrame(loop);
    let dir=new T.Vector3(); ca.getWorldDirection(dir); dir.y=0; dir.normalize();
    let side=new T.Vector3().crossVectors(ca.up,dir).normalize();
    if(w)ca.position.addScaledVector(dir,0.08); if(s_k)ca.position.addScaledVector(dir,-0.08);
    if(a)ca.position.addScaledVector(side,0.08); if(d)ca.position.addScaledVector(side,-0.08);

    // Bakma KontrolÃ¼
    let mDir=new T.Vector3().subVectors(mo.position,ca.position).normalize();
    let lookDir=new T.Vector3(); ca.getWorldDirection(lookDir);
    if(lookDir.dot(mDir)<0.97){ 
        mo.position.lerp(ca.position, 0.015); // BakmÄ±yorken yaklaÅŸÄ±r
        mo.lookAt(ca.position);
    }

    if(ca.position.distanceTo(mo.position)<1.0){
        active=false;
        document.getElementById('j').style.display='block';
        setTimeout(()=>location.reload(),3000);
    }
    re.render(sc,ca);
}
window.s=()=>{document.getElementById('m').style.display='none'; document.body.requestPointerLock(); active=true; init();};
</script></body></html>
